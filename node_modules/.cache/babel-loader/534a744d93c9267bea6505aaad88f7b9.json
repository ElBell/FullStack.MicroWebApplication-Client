{"ast":null,"code":"import _regeneratorRuntime from \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/src/UserPage.js\";\nimport * as React from \"react\";\nimport App from \"./App\";\n\nvar UserPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserPage, _React$Component);\n\n  function UserPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, UserPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(UserPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      posts: [],\n      loading: true\n    };\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.getUser();\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.componentWillReceiveProps =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _this.getUser();\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _this;\n  }\n\n  _createClass(UserPage, [{\n    key: \"getUser\",\n    value: function () {\n      var _getUser = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3() {\n        var _this2 = this;\n\n        var _ref3, id;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.props.match.params;\n\n              case 2:\n                _ref3 = _context3.sent;\n                id = _ref3.id;\n                console.log(id);\n                fetch(App.SITE_URL + \"users/\" + id + \"/posts\").then(function (response) {\n                  return response.json();\n                }).then(function (data) {\n                  return console.log(data);\n                }).then(function (data) {\n                  return _this2.setState({\n                    posts: data,\n                    loading: false\n                  });\n                });\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getUser() {\n        return _getUser.apply(this, arguments);\n      }\n\n      return getUser;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.loading) {\n        return React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29\n          },\n          __self: this\n        }, \"Loading, please wait\");\n      }\n\n      console.log(this.state.posts);\n      return this.state.posts.map(function (post) {\n        return React.createElement(\"li\", {\n          key: post.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, post.title);\n      });\n    }\n  }]);\n\n  return UserPage;\n}(React.Component);\n\nexport { UserPage as default };","map":{"version":3,"sources":["/Users/eleonorbart/Projects/WhatTheTec/FullStack.MicroWebApplication-Client/src/UserPage.js"],"names":["React","App","UserPage","state","posts","loading","componentDidMount","getUser","componentWillReceiveProps","props","match","params","id","console","log","fetch","SITE_URL","then","response","json","data","setState","map","post","title","Component"],"mappings":";;;;;;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,OAAhB;;IAEqBC,Q;;;;;;;;;;;;;;;;;UACnBC,K,GAAQ;AACNC,MAAAA,KAAK,EAAC,EADA;AAENC,MAAAA,OAAO,EAAC;AAFF,K;UAKRC,iB;;;;6BAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACZ,MAAKC,OAAL,EADY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;UAIpBC,yB;;;;6BAA4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACpB,MAAKD,OAAL,EADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;;;;;;;;;;;;;;;;;;uBAKL,KAAKE,KAAL,CAAWC,KAAX,CAAiBC,M;;;;AAA9BC,gBAAAA,E,SAAAA,E;AACRC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACAG,gBAAAA,KAAK,CAACd,GAAG,CAACe,QAAJ,GAAe,QAAf,GAA0BJ,EAA1B,GAA8B,QAA/B,CAAL,CACGK,IADH,CACQ,UAAAC,QAAQ;AAAA,yBAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,iBADhB,EAEGF,IAFH,CAEQ,UAAAG,IAAI;AAAA,yBAAIP,OAAO,CAACC,GAAR,CAAYM,IAAZ,CAAJ;AAAA,iBAFZ,EAGGH,IAHH,CAGQ,UAAAG,IAAI;AAAA,yBAAI,MAAI,CAACC,QAAL,CAAc;AAACjB,oBAAAA,KAAK,EAAEgB,IAAR;AAAcf,oBAAAA,OAAO,EAAC;AAAtB,mBAAd,CAAJ;AAAA,iBAHZ;;;;;;;;;;;;;;;;;;6BAMO;AACP,UAAI,KAAKF,KAAL,CAAWE,OAAf,EAAwB;AACtB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAP;AACD;;AACDQ,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAL,CAAWC,KAAvB;AACA,aAAO,KAAKD,KAAL,CAAWC,KAAX,CAAiBkB,GAAjB,CAAqB,UAAAC,IAAI,EAAI;AAClC,eAAO;AAAI,UAAA,GAAG,EAAEA,IAAI,CAACX,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAmBW,IAAI,CAACC,KAAxB,CAAP;AACD,OAFM,CAAP;AAGC;;;;EA/BiCxB,KAAK,CAACyB,S;;SAAvBvB,Q","sourcesContent":["import * as React from \"react\";\nimport App from \"./App\";\n\nexport default class UserPage extends React.Component{\n  state = {\n    posts:[],\n    loading:true\n  };\n\n  componentDidMount = async () => {\n    await this.getUser();\n  };\n\n  componentWillReceiveProps = async () => {\n    await this.getUser();\n  };\n\n  async getUser() {\n    const { id } = await this.props.match.params;\n    console.log(id);\n    fetch(App.SITE_URL + \"users/\" + id +\"/posts\")\n      .then(response => response.json())\n      .then(data => console.log(data))\n      .then(data => this.setState({posts: data, loading:false}));\n  }\n\n  render() {\n    if (this.state.loading) {\n      return <h1>Loading, please wait</h1>;\n    }\n    console.log(this.state.posts);\n    return this.state.posts.map(post => {\n      return <li key={post.id}>{post.title}</li>;\n    });\n    }\n}\n"]},"metadata":{},"sourceType":"module"}